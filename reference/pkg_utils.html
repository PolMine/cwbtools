<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create and manage packages with corpus data. — pkg_utils • cwbtools</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Create and manage packages with corpus data. — pkg_utils" />
<meta property="og:description" content="Putting CWB indexed corpora into R data packages is a convenient way to ship
and share corpora, and to keep documentation and supplementary functionality
with the data.
" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cwbtools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/opennlp.html">CWB corpora and openNLP</a>
    </li>
    <li>
      <a href="../articles/sentences.html">How to add a sentence annotation to an indexed corpus</a>
    </li>
    <li>
      <a href="../articles/vignette.html">Introducing 'cwbtools'</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/PolMine/cwbtools/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create and manage packages with corpus data.</h1>
    <small class="dont-index">Source: <a href='https://github.com/PolMine/cwbtools/blob/master/R/pkg.R'><code>R/pkg.R</code></a></small>
    <div class="hidden name"><code>pkg_utils.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Putting CWB indexed corpora into R data packages is a convenient way to ship
and share corpora, and to keep documentation and supplementary functionality
with the data.</p>
<p><a href='https://lifecycle.r-lib.org/articles/stages.html#deprecated'><img src='figures/lifecycle-deprecated.svg' alt='[Deprecated]' /></a></p>
    </div>

    <pre class="usage"><span class='fu'>pkg_create_cwb_dirs</span><span class='op'>(</span>pkg <span class='op'>=</span> <span class='st'>"."</span>, verbose <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='fu'>pkg_add_corpus</span><span class='op'>(</span>
  pkg <span class='op'>=</span> <span class='st'>"."</span>,
  <span class='va'>corpus</span>,
  registry <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Sys.getenv.html'>Sys.getenv</a></span><span class='op'>(</span><span class='st'>"CORPUS_REGISTRY"</span><span class='op'>)</span>,
  verbose <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span>

<span class='fu'>pkg_add_configure_scripts</span><span class='op'>(</span>pkg <span class='op'>=</span> <span class='st'>"."</span><span class='op'>)</span>

<span class='fu'>pkg_add_description</span><span class='op'>(</span>
  pkg <span class='op'>=</span> <span class='st'>"."</span>,
  package <span class='op'>=</span> <span class='cn'>NULL</span>,
  version <span class='op'>=</span> <span class='st'>"0.0.1"</span>,
  date <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Sys.time.html'>Sys.Date</a></span><span class='op'>(</span><span class='op'>)</span>,
  <span class='va'>author</span>,
  maintainer <span class='op'>=</span> <span class='cn'>NULL</span>,
  description <span class='op'>=</span> <span class='st'>""</span>,
  license <span class='op'>=</span> <span class='st'>""</span>,
  verbose <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span>

<span class='fu'>pkg_add_creativecommons_license</span><span class='op'>(</span>
  pkg <span class='op'>=</span> <span class='st'>"."</span>,
  license <span class='op'>=</span> <span class='st'>"CC-BY-NC-SA"</span>,
  file <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span>package <span class='op'>=</span> <span class='st'>"cwbtools"</span>, <span class='st'>"txt"</span>, <span class='st'>"licenses"</span>, <span class='st'>"CC_BY-NC-SA_3.0.txt"</span><span class='op'>)</span>
<span class='op'>)</span>

<span class='fu'>pkg_add_gitattributes_file</span><span class='op'>(</span>pkg <span class='op'>=</span> <span class='st'>"."</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>pkg</th>
      <td><p>Path to directory of data package or package name.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>A <code>logical</code> value, whether to be verbose.</p></td>
    </tr>
    <tr>
      <th>corpus</th>
      <td><p>Name of the CWB corpus to insert into the package.</p></td>
    </tr>
    <tr>
      <th>registry</th>
      <td><p>Registry directory.</p></td>
    </tr>
    <tr>
      <th>package</th>
      <td><p>The package name (<code>character</code>), may not include special
chars, and no underscores ('_').</p></td>
    </tr>
    <tr>
      <th>version</th>
      <td><p>The version number of the corpus (defaults to "0.0.1")</p></td>
    </tr>
    <tr>
      <th>date</th>
      <td><p>The date of creation, defaults to <code><a href='https://rdrr.io/r/base/Sys.time.html'>Sys.Date()</a></code>.</p></td>
    </tr>
    <tr>
      <th>author</th>
      <td><p>The author of the package, either character vector or object of class <code>person</code>.</p></td>
    </tr>
    <tr>
      <th>maintainer</th>
      <td><p>Maintainer, R package style, either <code>character</code> vector or <code>person</code>.</p></td>
    </tr>
    <tr>
      <th>description</th>
      <td><p>description of the data package.</p></td>
    </tr>
    <tr>
      <th>license</th>
      <td><p>The license.</p></td>
    </tr>
    <tr>
      <th>file</th>
      <td><p>Path to file with fulltext of Creative Commons license.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>pkg_creage_cwb_dirs</code> will create the standard directory
structure for storing registry files and indexed corpora within a package
(<code>./inst/extdata/cwb/registry</code> and
<code>./inst/extdata/cwb/indexed_corpora</code>, respectively).</p>
<p><code>pkg_add_corpus</code> will add the corpus described in registry directory to
the package defined by <code>pkg</code>.</p>
<p><code>add_configure_script</code> will add standardized and tested
configure scripts <code>configure</code> for Linux and macOS, and
<code>configure.win</code> for Windows to the top level directory of the data
package, and file <code>setpaths.R</code> to <code>tools</code> subdirectory. The
configuration mechanism ensures that the data directory is specified
correctly in the registry files during the installation of the data
package.</p>
<p><code>pkg_add_description</code> will add a description file to the package.</p>
<p><code>pkg_add_creativecommons_license</code> will license information to
the DESCRIPTION file, and move file LICENSE to top level directory of the
package.</p>
<p><code>pkg_add_gitattributes_file</code> will add a file '.gitattributes'
to the package. The file defines types of files that will be tracked by Git
LFS, i.e. they will not be under conventional version control. This is
suitable for large binary files, which is the scenario applicable for
indexed corpus data.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Blätte, Andreas (2018). "Using Data Packages to Ship Annotated
Corpora of Parliamentary Protocols: The GermaParl R Package",
<em>ParlaCLARIN 2018 Workshop Proceedings</em>, available online
<a href='http://lrec-conf.org/workshops/lrec2018/W2/pdf/15_W2.pdf'>here</a>.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>pkgdir</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/normalizePath.html'>normalizePath</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>, winslash <span class='op'>=</span> <span class='st'>"/"</span><span class='op'>)</span>
<span class='fu'>pkg_create_cwb_dirs</span><span class='op'>(</span>pkg <span class='op'>=</span> <span class='va'>pkgdir</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>... creating directory: /private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/RtmpEcO7AG/R</span></div><div class='output co'>#&gt; <span class='message'>... creating directory: /private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/RtmpEcO7AG/man</span></div><div class='output co'>#&gt; <span class='message'>... creating directory: /private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/RtmpEcO7AG/inst</span></div><div class='output co'>#&gt; <span class='message'>... creating directory: /private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/RtmpEcO7AG/inst/extdata</span></div><div class='output co'>#&gt; <span class='message'>... creating directory: /private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/RtmpEcO7AG/inst/extdata/cwb</span></div><div class='output co'>#&gt; <span class='message'>... creating directory: /private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/RtmpEcO7AG/inst/extdata/cwb/registry</span></div><div class='output co'>#&gt; <span class='message'>... creating directory: /private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/RtmpEcO7AG/inst/extdata/cwb/indexed_corpora</span></div><div class='input'><span class='fu'>pkg_add_description</span><span class='op'>(</span>
  pkg <span class='op'>=</span> <span class='va'>pkgdir</span>,
  package <span class='op'>=</span> <span class='st'>"reuters"</span>,
  author <span class='op'>=</span> <span class='st'>"cwbtools"</span>,
  description <span class='op'>=</span> <span class='st'>"Reuters data package"</span>
 <span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: `pkg_add_description()` was deprecated in cwbtools 0.3.4.</span>
#&gt; <span class='warning'>Downloading corpora from a repository (HTTP-Server, Zenodo, S3) using corpus_install() is recommended. Only small corpora should be put into packages as sample data.</span></div><div class='output co'>#&gt; <span class='message'>... creating DESCRIPTION file</span></div><div class='input'><span class='fu'>pkg_add_corpus</span><span class='op'>(</span>
  pkg <span class='op'>=</span> <span class='va'>pkgdir</span>, corpus <span class='op'>=</span> <span class='st'>"REUTERS"</span>,
  registry <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span>package <span class='op'>=</span> <span class='st'>"RcppCWB"</span>, <span class='st'>"extdata"</span>, <span class='st'>"cwb"</span>, <span class='st'>"registry"</span><span class='op'>)</span>
<span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: `pkg_add_corpus()` was deprecated in cwbtools 0.3.4.</span>
#&gt; <span class='warning'>Downloading corpora from a repository (HTTP-Server, Zenodo, S3) using corpus_install() is recommended. Only small corpora should be put into packages as sample data.</span></div><div class='output co'>#&gt; <span class='message'>... directory for indexed corpus does not yet exist, creating: /private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/RtmpEcO7AG/inst/extdata/cwb/indexed_corpora/reuters</span></div><div class='output co'>#&gt; <span class='message'>... copying registry file</span></div><div class='output co'>#&gt; <span class='message'>... copying data files</span></div><div class='output co'>#&gt; <span class='message'>... adjusting paths in registry file</span></div><div class='input'><span class='fu'>pkg_add_gitattributes_file</span><span class='op'>(</span>pkg <span class='op'>=</span> <span class='va'>pkgdir</span><span class='op'>)</span>
<span class='fu'>pkg_add_configure_scripts</span><span class='op'>(</span>pkg <span class='op'>=</span> <span class='va'>pkgdir</span><span class='op'>)</span>
<span class='fu'>pkg_add_creativecommons_license</span><span class='op'>(</span>pkg <span class='op'>=</span> <span class='va'>pkgdir</span><span class='op'>)</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Andreas Blaette.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


