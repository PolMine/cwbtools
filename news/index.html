<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Changelog • cwbtools</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-news">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cwbtools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.4.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/vignette.html">Introducing 'cwbtools'</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/PolMine/cwbtools/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href="https://github.com/PolMine/cwbtools/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="page-header" data-toc-text="0.4.0" id="cwbtools-040">cwbtools 0.4.0<small>2024-02-26</small><a class="anchor" aria-label="anchor" href="#cwbtools-040"></a></h2>
<div class="section level3">
<h3 id="new-features-0-4-0">New features<a class="anchor" aria-label="anchor" href="#new-features-0-4-0"></a></h3>
<ul><li>New method <code><a href="../reference/encode.html">encode()</a></code> to prospectively supersed <code>CorpusData</code> class. Includes argument <code>properties</code> <a href="https://github.com/PolMine/cwbtools/issues/13" class="external-link">#13</a>.</li>
<li>New function <code><a href="../reference/corpus_utils.html">corpus_reload()</a></code> for convenient unloading/reloading corpora <a href="https://github.com/PolMine/cwbtools/issues/68" class="external-link">#68</a>.</li>
<li>New utility function <code><a href="../reference/registry_file.html">registry_set_name()</a></code> <a href="https://github.com/PolMine/cwbtools/issues/13" class="external-link">#13</a>.</li>
</ul></div>
<div class="section level3">
<h3 id="minor-improvements-0-4-0">Minor improvements<a class="anchor" aria-label="anchor" href="#minor-improvements-0-4-0"></a></h3>
<ul><li>
<code><a href="../reference/cwb.html">cwb_get_url()</a></code> will get CWB v3.5 installation files <a href="https://github.com/PolMine/cwbtools/issues/63" class="external-link">#63</a>.</li>
<li>
<code><a href="../reference/corpus_utils.html">corpus_remove()</a></code> returns <code>FALSE</code> (rather than failing with ERROR) when corpus does not exist. More telling messages.</li>
<li>
<code><a href="../reference/p_attribute_encode.html">p_attribute_encode()</a></code> has new argument <code>quietly</code> passed into RcppCWB functions <code>cwb_compress()</code> <code><a href="https://rdrr.io/pkg/RcppCWB/man/cwb_utils.html" class="external-link">cwb_huffcode()</a></code> and <code><a href="https://rdrr.io/pkg/RcppCWB/man/cwb_utils.html" class="external-link">cwb_compress_rdx()</a></code> to control verbosity.</li>
<li>Method <code>$encode()</code> of <code>CorpusData</code> class has new argument <code>quietly</code> passed into <code><a href="../reference/p_attribute_encode.html">p_attribute_encode()</a></code>.</li>
<li>Method <code>$encode()</code> has new argument <code>reload</code> to trigger unloading and reloading corpus, to make s-attributes available <a href="https://github.com/PolMine/cwbtools/issues/57" class="external-link">#57</a>.</li>
<li>The <code>CorpusData$encode()</code> method uses messages from the cli package <a href="https://github.com/PolMine/cwbtools/issues/59" class="external-link">#59</a>.</li>
<li>Outdated documentation of <code><a href="../reference/p_attribute_encode.html">p_attribute_encode()</a></code> rewritten, including explanation of argument <code>compress</code> and simplification of sample code <a href="https://github.com/PolMine/cwbtools/issues/61" class="external-link">#61</a>.</li>
<li>Corrected inconsistencies in the vignette <a href="https://github.com/PolMine/cwbtools/issues/55" class="external-link">#55</a>.</li>
<li>
<code><a href="../reference/s_attribute.html">s_attribute_encode()</a></code> coerces input <code>values</code> to <code>character</code> (rather than failing) <a href="https://github.com/PolMine/cwbtools/issues/62" class="external-link">#62</a>.</li>
<li>The validity of attribute names is checked by <code><a href="../reference/s_attribute.html">s_attribute_encode()</a></code>, <code><a href="../reference/p_attribute_encode.html">p_attribute_encode()</a></code> and <code>CorpusData$encode()</code> using a new (internal) function, a telling message is issued if non-ASCII or uppercase characters are used. The documentation has been augmented accordingly <a href="https://github.com/PolMine/cwbtools/issues/48" class="external-link">#48</a>.</li>
<li>For method “R”, <code><a href="../reference/p_attribute_encode.html">p_attribute_encode()</a></code> checks whether files for encoded p-attribute exist and fails gracefully with telling error message if yes <a href="https://github.com/PolMine/cwbtools/issues/4" class="external-link">#4</a>.</li>
<li>Argument <code>compress</code> defaults to <code>FALSE</code> as corpus compression is not stable on Windows <a href="https://github.com/PolMine/cwbtools/issues/3" class="external-link">#3</a>.</li>
<li>function <code><a href="../reference/corpus_utils.html">corpus_as_tarball()</a></code> and <code><a href="../reference/corpus_utils.html">corpus_copy()</a></code> now have <code>registry_file_parse(corpus, registry_dir)[["home"]]</code> as default value, so that values are more consistent across <code>corpus_*</code> functions <a href="https://github.com/PolMine/cwbtools/issues/18" class="external-link">#18</a>.</li>
<li>
<code><a href="../reference/cwb.html">cwb_get_bindir()</a></code> tries to find <code>cwb-config</code> system utility, if it is on the path.</li>
<li>
<code><a href="../reference/s_attribute.html">s_attribute_encode()</a></code> issues warning on Windows when using s-attribute ‘id’ <a href="https://github.com/PolMine/cwbtools/issues/69" class="external-link">#69</a>.</li>
<li>Replaced <code><a href="https://rdrr.io/r/base/normalizePath.html" class="external-link">normalizePath()</a></code> by <code><a href="https://fs.r-lib.org/reference/path.html" class="external-link">fs::path()</a></code> in <code><a href="../reference/p_attribute_encode.html">p_attribute_encode()</a></code> <a href="https://github.com/PolMine/cwbtools/issues/65" class="external-link">#65</a>.</li>
</ul></div>
<div class="section level3">
<h3 id="improved-documentataion-0-4-0">Improved documentataion<a class="anchor" aria-label="anchor" href="#improved-documentataion-0-4-0"></a></h3>
<ul><li>Simplifications of the vignette <a href="https://github.com/PolMine/cwbtools/issues/60" class="external-link">#60</a>.</li>
<li>Scenario how to add stemmed token stream to existing corpus added to vignette <a href="https://github.com/PolMine/cwbtools/issues/14" class="external-link">#14</a>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.9" id="cwbtools-039">cwbtools 0.3.9<small>2023-11-27</small><a class="anchor" aria-label="anchor" href="#cwbtools-039"></a></h2>
<ul><li>
<code><a href="../reference/p_attribute_encode.html">p_attribute_encode()</a></code> accepts multiple p-attributes if method is “CWB”.</li>
<li>New function <code><a href="../reference/registry_file.html">registry_set_property()</a></code> for setting corpus properties in a pipe.</li>
<li>
<code>read_registry_file()</code> will keep ‘registry_dir’ and ‘corpus’.</li>
<li>
<code>registry_set_info</code> as new auxiliary function to set path to info file in <code>registry_data</code> object.</li>
<li>
<code><a href="../reference/corpus_utils.html">corpus_install()</a></code> reverts to package zen4R to links of files at Zenodo <a href="https://github.com/PolMine/cwbtools/issues/42" class="external-link">#42</a>.</li>
<li>
<code><a href="https://rdrr.io/pkg/curl/man/curl_download.html" class="external-link">curl::curl_download()</a></code> replaces <code><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file()</a></code> in <code><a href="../reference/corpus_utils.html">corpus_install()</a></code> if argument <code>user</code> is <code>NULL</code> (to avoid corrupted download from Zenodo) <a href="https://github.com/PolMine/cwbtools/issues/53" class="external-link">#53</a>.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.8" id="cwbtools-038">cwbtools 0.3.8<small>2022-08-30</small><a class="anchor" aria-label="anchor" href="#cwbtools-038"></a></h2>
<ul><li>Package names, software names and API are wrapped in single quotes in the DESCRIPTION files, to follow section 1.1.1 of ‘Writing R extensions’ <a href="https://github.com/PolMine/cwbtools/issues/43" class="external-link">#43</a>.</li>
<li>References in the description of the DESCRIPTION file have been standardized <a href="https://github.com/PolMine/cwbtools/issues/44" class="external-link">#44</a>.</li>
<li>To meet CRAN requirements, any remaining usage of <code><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages()</a></code> has been removed from the package. Using argument <code>pkg</code> of <code><a href="../reference/corpus_utils.html">corpus_install()</a></code> will install corpora found in a package as system corpora defined in the default registry directory <a href="https://github.com/PolMine/cwbtools/issues/46" class="external-link">#46</a>.</li>
<li>The vignettes ‘opennnlp.Rmd’ and ‘sentences.Rmd’ have been removed from the package; they are now part of the PolMine Cookbook repository at <code>https://github.com/PolMine/cookbook</code>. Packages ‘NLP’ and ‘openNLP’ are no longer suggested and the <code><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages()</a></code> call (though not evaluated) is omitted. Part of the fix for <a href="https://github.com/PolMine/cwbtools/issues/46" class="external-link">#46</a>.</li>
<li>The <code><a href="https://fs.r-lib.org/reference/path.html" class="external-link">fs::path()</a></code> function replaces base R <code><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path()</a></code> throughout to solidify the generation of paths and to improve the readability of the code throughout.</li>
<li>
<code><a href="../reference/p_attribute_encode.html">p_attribute_encode()</a></code> checks that the <code>character</code> vector <code>token_stream</code> does not exceed the CWB corpus size limit (2^31 - 1) <a href="https://github.com/PolMine/cwbtools/issues/40" class="external-link">#40</a>.</li>
<li>
<code>zenodo_get_tarballurl()</code> is removed from package again (temporarily used when zen4R package did not work).</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.7" id="cwbtools-037">cwbtools 0.3.7<a class="anchor" aria-label="anchor" href="#cwbtools-037"></a></h2>
<ul><li>
<code>gparlsample_url_restricted</code> has been updated to replace a URL that has become defunct.</li>
<li>New auxiliary function <code>zenodo_get_tarballurl()</code> steps in for functionality of the zen4R package temporarily not working <a href="https://github.com/PolMine/cwbtools/issues/42" class="external-link">#42</a>. It is used internally by the <code><a href="../reference/corpus_utils.html">corpus_install()</a></code> function.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.6" id="cwbtools-036">cwbtools 0.3.6<small>2022-06-02</small><a class="anchor" aria-label="anchor" href="#cwbtools-036"></a></h2>
<ul><li>Ensure that <code><a href="../reference/zenodo.html">zenodo_get_tarball()</a></code> fails gracefully if Zenodo is temporarily not available.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.5" id="cwbtools-035">cwbtools 0.3.5<small>2022-05-14</small><a class="anchor" aria-label="anchor" href="#cwbtools-035"></a></h2>
<ul><li>New function <code><a href="../reference/p_attribute_encode.html">p_attribute_rename()</a></code>, corresponding to <code><a href="../reference/s_attribute.html">s_attribute_rename()</a></code>.</li>
<li>
<code><a href="../reference/p_attribute_encode.html">p_attribute_encode()</a></code> will remove the [p_attr].corpus file as suggested my cwb-makeall (if <code>compress</code> is <code>TRUE</code>).</li>
<li>Assumptions about the statement of an info file in registry files are relaxed, the line starting with “INFO” is not required.</li>
<li>Internally, functionality from the <code>fs</code> package for a consistent handling of paths (such as <code><a href="https://fs.r-lib.org/reference/path.html" class="external-link">fs::path()</a></code>) is used more widely (<a href="https://github.com/PolMine/cwbtools/issues/36" class="external-link">#36</a>).</li>
<li>Assumptions about the definition of a version in the name of a corpus tarball are relaxed. If possible, the version is taken from the properties (i.e. the registry file).</li>
<li>New function <code><a href="../reference/zenodo.html">zenodo_get_tarball()</a></code> for downloading corpus tarballs from Zenodo. Restricted access can be handled too (personalized URL with token).</li>
<li>Function <code><a href="../reference/corpus_utils.html">corpus_install()</a></code> has new argument <code>load</code> to control whether corpus is loaded after installation.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.4" id="cwbtools-034">cwbtools 0.3.4<small>2021-06-11</small><a class="anchor" aria-label="anchor" href="#cwbtools-034"></a></h2>
<ul><li>The function <code><a href="../reference/pkg_utils.html">pkg_add_description()</a></code> is declared deprecated. To alert users, functionality of the lifecycle package is used (<a href="https://github.com/PolMine/cwbtools/issues/1" class="external-link">#1</a>).</li>
<li>A new function <code><a href="../reference/as.vrt.html">as.vrt()</a></code> will generate valid *.vrt files from <code>xml_document</code> input.</li>
<li>Added Left-to-Right Mark / “00E” to signs that are cleaned.</li>
<li>Due to an inconsistency in the code of <code><a href="../reference/directories.html">cwb_corpus_dir()</a></code>, the function would falsely yield <code>NA</code> results if the CWB directory would contain more than two directories.</li>
<li>To be able to recognize faulty directories, the registry directory and the corpus directory are reported by <code><a href="../reference/directories.html">cwb_corpus_dir()</a></code> and <code><a href="../reference/directories.html">cwb_registry_dir()</a></code>. Argument <code>verbose</code> can be used to suppress this output.</li>
<li>The statement on ‘LazyData’ has been removed from the DESCRIPTION file to avoid a warning emerging with R-devel on CRAN check machines (<a href="https://github.com/PolMine/cwbtools/issues/33" class="external-link">#33</a>).</li>
<li>Executing the code in the vignette ‘sentences.Rmd’ is conditional on the availability of the sample corpus. If the corpus can not be installed from Zenodo, building the vignette will not fail (<a href="https://github.com/PolMine/cwbtools/issues/35" class="external-link">#35</a>).</li>
<li>The <code><a href="../reference/corpus_utils.html">corpus_install()</a></code> function will abort with a FALSE return value if the requested tarball is not available (<a href="https://github.com/PolMine/cwbtools/issues/34" class="external-link">#34</a>).</li>
<li>A new function <code><a href="../reference/s_attribute.html">s_attribute_rename()</a></code> can be used to rename s-attributes.</li>
<li>A new function <code><a href="../reference/corpus_utils.html">corpus_get_version()</a></code> will derive the corpus version number from the registry file and return a <code>numeric version</code> object (<a href="https://github.com/PolMine/cwbtools/issues/16" class="external-link">#16</a>).</li>
<li>A limitation of <code><a href="https://rdrr.io/r/base/readBin.html" class="external-link">writeBin()</a></code> to write long integer vectors has been overcome with R v4.0.0. A warning and a preliminary workaround to address this limitation when using <code><a href="../reference/p_attribute_encode.html">p_attribute_encode()</a></code> for corpora with more than 536870911 tokens can therefore be dropped. For large corpora, the function will check the R version and issue the recommendation to install $ v4.0.0 or higher, if the size limitation (536870911) is relevant (<a href="https://github.com/PolMine/cwbtools/issues/28" class="external-link">#28</a>).</li>
<li>In addition to the URL for downloading the CWB, <code><a href="../reference/cwb.html">cwb_get_url()</a></code> will return the MD5 checksum of the compressed file as attribute ‘md5’.</li>
<li>The <code><a href="../reference/cwb.html">cwb_install()</a></code> function will fail gracefully if downloading the CWB fails (returning <code>NULL</code>). A new argument md5 will trigger checking the MD5 sum of the downloaded file (if provided). The default value of <code>cwb_dir</code> is now a temporary directory.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.3" id="cwbtools-033">cwbtools 0.3.3<small>2021-02-23</small><a class="anchor" aria-label="anchor" href="#cwbtools-033"></a></h2>
<div class="section level3">
<h3 id="new-features-0-3-3">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-0-3-3"></a></h3>
<ul><li>Assumptions about the directory structure in a corpus tarball are somewhat relaxed: The name of the data directory may also be “data” (not just “indexed_corpora”) and data files need not be necessarily in a subdirectory of the data directory. This makes downloading and installing the Europarl and the Dickens corpus possible.</li>
</ul></div>
<div class="section level3">
<h3 id="minor-improvements-0-3-3">MINOR IMPROVEMENTS<a class="anchor" aria-label="anchor" href="#minor-improvements-0-3-3"></a></h3>
<ul><li>The dependency on the devtools package can be dropped as one consequence of removing the Europarl vignette.</li>
<li>The dependency on the usethis package has been removed.</li>
<li>The sentences-vignette is more robust by explicitly creating a temporary registry directory.</li>
</ul></div>
<div class="section level3">
<h3 id="bux-fixes-0-3-3">BUX FIXES<a class="anchor" aria-label="anchor" href="#bux-fixes-0-3-3"></a></h3>
<ul><li>A unit test that involves calling <code><a href="../reference/cwb.html">cwb_install()</a></code> is skipped on Solaris to ensure that Solaris CRAN tests will not fail: A CWB binary is not available for Solaris.</li>
</ul></div>
<div class="section level3">
<h3 id="documentation-fixes-0-3-3">DOCUMENTATION FIXES<a class="anchor" aria-label="anchor" href="#documentation-fixes-0-3-3"></a></h3>
<ul><li>The vignette “europarl.Rmd” is dropped altogether: Putting corpora into packages is not the recommended approach any more.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.2" id="cwbtools-032">cwbtools 0.3.2<small>2021-02-17</small><a class="anchor" aria-label="anchor" href="#cwbtools-032"></a></h2>
<div class="section level3">
<h3 id="new-features-0-3-2">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-0-3-2"></a></h3>
<ul><li>It is now possible to install a corpus from S3 by stating a S3-URI as argument <code>tarball</code> of <code><a href="../reference/corpus_utils.html">corpus_install()</a></code>.</li>
<li>A new argument <code>checksum</code> for the <code><a href="../reference/corpus_utils.html">corpus_install()</a></code> function introduces functionality to check the integrity of a downloaded corpus tarball. If the tarball is downloaded from Zenodo (by stating a DOI using argument <code>doi</code>), the md5 checksum included in the record’s metadata is extracted internally and used for checking.</li>
<li>A new vignette explains how an existing CWB corpus can be enhanced using openNLP.</li>
<li>The function <code><a href="../reference/corpus_utils.html">corpus_copy()</a></code> will accept a new argument <code>remove</code>. If <code>TRUE</code> (the default value is <code>FALSE</code>), files that have been copied will be removed. Removing files is reasonable to handle disk space parsimonously if the source corpus is at a temporary location where nobody will miss it.</li>
</ul></div>
<div class="section level3">
<h3 id="minor-improvements-0-3-2">MINOR IMPROVEMENTS<a class="anchor" aria-label="anchor" href="#minor-improvements-0-3-2"></a></h3>
<ul><li>The <code><a href="../reference/corpus_utils.html">corpus_install()</a></code> function will abort with a warning and return value <code>FALSE</code> rather than an error if the DOI is not offered by Zenodo.</li>
<li>If <code><a href="../reference/corpus_utils.html">corpus_install()</a></code> is used to install a corpus from a tarball present locally, a somewhat confusing message suggested that the tarball was downloaded. This message is not shown any more.</li>
<li>Extracting a corpus tarball present locally involved copying the tarball to a temporary location before extracting it. This step consuming more disk space than necessary (inefficient and potentially problematic with large corpora) is now omitted.</li>
<li>The function <code><a href="../reference/cwb.html">cwb_install()</a></code> now replaces an internally hardcoded argument <code>cwb_dir</code> with an argument <code>cwb_dir</code>; the function returns the directory where the CWB is installed rather than <code>NULL</code> value.</li>
<li>The function <code><a href="../reference/cwb.html">cwb_get_bindir()</a></code> now introduces an argument <code>bindir</code>.</li>
<li>Argument <code>compress</code> of <code>p_attribute_encode(</code> now has default value <code>FALSE</code> (<a href="https://github.com/PolMine/cwbtools/issues/29" class="external-link">#29</a>).</li>
<li>Examples in documentation of <code><a href="../reference/p_attribute_encode.html">p_attribute_encode()</a></code> have been adapted so that GitHub Action unit test passes on Windows.</li>
<li>A user abort if an existing corpus would be removed by installing the same version anew will not result in an error message any more, but in return value <code>FALSE</code> (<a href="https://github.com/PolMine/cwbtools/issues/25" class="external-link">#25</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-3-2">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-0-3-2"></a></h3>
<ul><li>To avoid an issue with a false negative issued by <code>RCurl::url.exists()</code>, this function has been replaced by <code><a href="https://httr.r-lib.org/reference/http_error.html" class="external-link">httr::http_error()</a></code> (<a href="https://github.com/PolMine/cwbtools/issues/31" class="external-link">#31</a>).</li>
<li>The <code><a href="../reference/corpus_utils.html">corpus_install()</a></code> function still showed some progress messages even when <code>verbose</code> was set as <code>FALSE</code> (argument not passed to <code><a href="../reference/corpus_utils.html">corpus_copy()</a></code>. Fixed.</li>
<li>The code in the vignette on adding a sentence annotation was not executed when building the package and a bug in the code went unnoticed. Fixed (<a href="https://github.com/PolMine/cwbtools/issues/17" class="external-link">#17</a>).</li>
<li>The <code><a href="../reference/get_encoding.html">get_encoding()</a></code> method would return <code>NA</code> if <code><a href="https://rdrr.io/r/utils/localeToCharset.html" class="external-link">localeToCharset()</a></code> fails to infer charset from locale. In this case, UTF-8 is assumed.</li>
</ul></div>
<div class="section level3">
<h3 id="documentation-fixes-0-3-2">DOCUMENTATION FIXES<a class="anchor" aria-label="anchor" href="#documentation-fixes-0-3-2"></a></h3>
<ul><li>A misleading, deprecated example in a dontrun section of the general package documentation has been removed (<a href="https://github.com/PolMine/cwbtools/issues/23" class="external-link">#23</a>). The vignette includes a working and tested example how to encode the REUTERS corpus.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.1" id="cwbtools-031">cwbtools 0.3.1<small>2020-07-21</small><a class="anchor" aria-label="anchor" href="#cwbtools-031"></a></h2>
<div class="section level3">
<h3 id="new-features-0-3-1">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-0-3-1"></a></h3>
<ul><li>The (weak) dependency on the polmineR package (it was in the ‘Suggests:’ section of the DESCRIPTION file) has been removed. Changes are purely internal (higher-level polmineR functions have been replaced by lower-level RcppCWB functions, some tests were re-written). Dropping the dependency has the advantage that there is a much clearer structure of dependencies now (RcppCWB -&gt; cwbtools -&gt; polmineR).</li>
</ul></div>
<div class="section level3">
<h3 id="minor-improvements-0-3-1">MINOR IMPROVEMENTS<a class="anchor" aria-label="anchor" href="#minor-improvements-0-3-1"></a></h3>
<ul><li>A remaining CLI formatting issue has been removed from the user dialogue for modifying the .Renviron file.</li>
<li>Unit tests used a test download of the United Nations General Assembly (UNGA) corpus from Zenodo. To reduce the time required for testing the package, a test download of the (much smaller) GermaParlSample copus is performed.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-3-1">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-0-3-1"></a></h3>
<ul><li>The <code><a href="../reference/corpus_utils.html">corpus_install()</a></code> function tried to ask for user feedback when not in an interactive session. The function now checks whether it is possible to ask for user feedback.</li>
<li>Part of the output of the <code><a href="../reference/directories.html">cwbtools::create_cwb_directories()</a></code> function did show if <code>verbose</code> was <code>FALSE</code>. Fixed.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.0" id="cwbtools-030">cwbtools 0.3.0<small>2020-07-09</small><a class="anchor" aria-label="anchor" href="#cwbtools-030"></a></h2>
<div class="section level3">
<h3 id="new-features-0-3-0">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-0-3-0"></a></h3>
<ul><li>The <code><a href="../reference/corpus_utils.html">corpus_install()</a></code> gives much better and nicer reports on steps performed during corpus downloads. User dialogues have been reworked thoroughly to provide better user guidance.</li>
<li>The <code><a href="../reference/directories.html">use_corpus_registry_envvar()</a></code> function is called by <code><a href="../reference/corpus_utils.html">corpus_install()</a></code> and will amend the .Renviron file as appropriate if the user so desires.</li>
<li>To resolve a DOI, the ‘zen4R’ package is used, to extract information on the whereabouts of a corpus tarball efficiently from the Zenodo API.</li>
<li>A <code><a href="../reference/corpus_utils.html">corpus_testload()</a></code> has been implemented to check whether a (newly installed) corpus is accessible.</li>
<li>Dependency on usethis-package has been dropped.</li>
</ul></div>
<div class="section level3">
<h3 id="minor-improvements-0-3-0">MINOR IMPROVEMENTS<a class="anchor" aria-label="anchor" href="#minor-improvements-0-3-0"></a></h3>
<ul><li>Extracting the version number from the corpus tarball is somewhat more forgiving if the version number does not start with “v”.</li>
<li>The registry file for a newly downloaded corpus is refreshed only if a temporary registry directory is used.</li>
<li>To remedy the fairly common error that the path to the info file is not stated correctly in the registry file, a fallback mechanism will look up potential alternatives to an info file stated wrongly.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-3-0">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-0-3-0"></a></h3>
<ul><li>The json string returned from Zenodo may include newline strings that are escaped such that they cannot be processed by <code><a href="https://rdrr.io/pkg/jsonlite/man/fromJSON.html" class="external-link">jsonlite::fromJSON()</a></code>. The auxiliary function to get and process information from Zenodo now ensures that newline characters are escaped such that they can be processed.</li>
<li>The <code><a href="../reference/corpus_utils.html">corpus_copy()</a></code> function did not set the path to the info file to the new data directory - corrected.</li>
<li>The <code><a href="../reference/corpus_utils.html">corpus_install()</a></code> function failed when the <code>registry_dir</code> got a <code>NULL</code> value from the default call to <code><a href="../reference/directories.html">cwbtools::cwb_registry_dir()</a></code>. But if the directories are created, the registry directory is there. Fixed.</li>
<li>Removed a bug (faulty assignment) that would prevent that the path of a registry file is handled correctly (i.e. wrapped in quotation marks) by <code><a href="../reference/registry_file.html">registry_file_compose()</a></code> when the path includes any whitespace characters.</li>
</ul></div>
<div class="section level3">
<h3 id="documentation-fixes-0-3-0">DOCUMENTATION FIXES<a class="anchor" aria-label="anchor" href="#documentation-fixes-0-3-0"></a></h3>
<ul><li>A problem with updating the <code>curl</code> dependency of <code>cwbtools</code> that may arise when <code>devtools::install_github()</code> is used is addressed in an extended explanation in the README.md file how to install the development version of <code>cwbtools</code> using <code>remotes::install_github()</code> (<a href="https://github.com/PolMine/cwbtools/issues/21" class="external-link">#21</a>).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.0" id="cwbtools-020">cwbtools 0.2.0<small>2020-04-14</small><a class="anchor" aria-label="anchor" href="#cwbtools-020"></a></h2>
<div class="section level3">
<h3 id="new-features-0-2-0">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-0-2-0"></a></h3>
<ul><li>The <code>install_corpus()</code> function has been reworked thoroughly. Using system directories for the registry and the corpus directory is now supported. This is a prerequisite that corpora can be installed outside of R packages Installing corpora within corpora is not allowed by CRAN.</li>
<li>A set of new auxiliary functions (<code><a href="../reference/directories.html">cwb_directories()</a></code>, <code><a href="../reference/directories.html">cwb_registry_dir()</a></code>, <code><a href="../reference/directories.html">cwb_corpus_dir()</a></code>) will get the whereabouts of the registry directory and the corpus directory. In particular, they consider that the polmineR package may have generated a temporary corpus registry, resetting the CORPUS_REGISTRY environment variable.</li>
<li>The <code>install_corpus()</code> function accepts an argument <code>doi</code> to provide a Document Object Identifier (DOI). At this stage, the DOI is assumed to be awarded by <a href="https://zenodo.org/" class="external-link">Zenodo</a>. Information available at the Zenodo site will be resolved to get the URL of a corpus tarball that can be downloaded. Upon installing a corpus from Zenodo, the DOI and the version number will be written as corpus properties into the registry file.</li>
<li>To avoid removing corpora accidentally, the <code><a href="../reference/corpus_utils.html">corpus_install()</a></code> function will ask the user for feedback if a corpus would be installed that is already present and that would be deleted or overwritten.</li>
<li>New auxiliary functions <code>create_cwb_directories</code> and <code><a href="../reference/directories.html">use_corpus_registry_envvar()</a></code> will assist users to create the required directory structure for CWB indexed corpora.</li>
</ul></div>
<div class="section level3">
<h3 id="minor-improvements-0-2-0">MINOR IMPROVEMENTS<a class="anchor" aria-label="anchor" href="#minor-improvements-0-2-0"></a></h3>
<ul><li>The default value of the argument “repo” that defines the repository for packaged corpora is now the drat repository of the PolMine GitHub account (“<a href="https://PolMine.github.io/drat/" class="external-link uri">https://PolMine.github.io/drat/</a>”).</li>
</ul></div>
<div class="section level3">
<h3 id="documentation-fixes-0-2-0">DOCUMENTATION FIXES<a class="anchor" aria-label="anchor" href="#documentation-fixes-0-2-0"></a></h3>
<ul><li>New R6 Roxygen documentation used for documenting the <code>CorpusData</code> class.</li>
<li>A (preliminary) vignette has been added that explains how to add a sentence annotation can be added to an existing indexed corpus.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.2" id="cwbtools-012">cwbtools 0.1.2<small>2019-12-17</small><a class="anchor" aria-label="anchor" href="#cwbtools-012"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-1-2">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-0-1-2"></a></h3>
<ul><li>Trying to remove the entire temporary session directory at the end of the package vignettes caused problems to build the package documentation. A more limited approach to clean up temporary files after build the vignettes will omit this problem.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.1" id="cwbtools-011">cwbtools 0.1.1<small>2019-12-09</small><a class="anchor" aria-label="anchor" href="#cwbtools-011"></a></h2>
<div class="section level3">
<h3 id="minor-improvements-0-1-1">MINOR IMPROVEMENTS<a class="anchor" aria-label="anchor" href="#minor-improvements-0-1-1"></a></h3>
<ul><li>The <code><a href="../reference/pkg_utils.html">pkg_add_corpus()</a></code> function will now create the cwb directories (registry and data directory) if necessary. Previously, these directories were required to exist before moving a corpus into a package, making it necessary to put dummy files into packages to keep R CMD build from issuing warnings and git from dropping these directories. Creating the directories on demand is a precondition for a CRAN release of data packages (<a href="https://github.com/PolMine/cwbtools/issues/11" class="external-link">#11</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-1-1">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-0-1-1"></a></h3>
<ul><li>In the upcoming R version 4.0, the <code>matrix</code> class will inherit from class <code>array</code>. The new package version now takes into account that <code>length(class(matrix(1:4,2,2)))</code> will return the value 2.</li>
</ul></div>
<div class="section level3">
<h3 id="documentation-fixes-0-1-1">DOCUMENTATION FIXES<a class="anchor" aria-label="anchor" href="#documentation-fixes-0-1-1"></a></h3>
<ul><li>The NEWS file now follows the styleguide such that <code><a href="https://pkgdown.r-lib.org/reference/build_site.html" class="external-link">pkgdown::build_site()</a></code> will generate a proper changelog page.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.0" id="cwbtools-010">cwbtools 0.1.0<small>2019-10-21</small><a class="anchor" aria-label="anchor" href="#cwbtools-010"></a></h2>
<ul><li>updated vignette so that annex explains installation of CoreNLP v3.9.2 (2018-10-05)</li>
<li>New functions <code>s_atttribute_get_regions()</code> and <code><a href="../reference/s_attribute.html">s_attribute_get_values()</a></code>.</li>
<li>In <code><a href="../reference/corpus_utils.html">corpus_install()</a></code>, using <code><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file()</a></code> replaces <code><a href="https://rdrr.io/pkg/curl/man/curl_download.html" class="external-link">curl::curl_download()</a></code> for Windows because curl apparently is not able to process target filenames that include special characters.</li>
<li>For Windows machines, there is a check for non-ASCII characters in the file path. If TRUE, a path generated by a call to <code>shortPathName()</code> is used.</li>
<li>In the vignette, the registry is reset after creating the new corpora, to make the new corpus available.</li>
<li>A (preliminary) <code>decode()</code>-method will turn a <code>partition</code> into an <code>Annotation</code> object from the NLP package.</li>
<li>A new <code><a href="../reference/conll_get_regions.html">conll_get_regions()</a></code>-function will turn an CoNLL-style annotated token stream into a table with regions that can be encoded using <code><a href="../reference/s_attribute.html">s_attribute_encode()</a></code>.</li>
<li>A new function <code><a href="../reference/s_attribute.html">s_attribute_merge()</a></code> will merge two <code>data.table</code> objects defining s-attributes, checking for overlaps.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.11" id="cwbtools-0011">cwbtools 0.0.11<a class="anchor" aria-label="anchor" href="#cwbtools-0011"></a></h2>
<ul><li>New functions <code><a href="../reference/p_attribute_encode.html">p_attribute_recode()</a></code>, <code><a href="../reference/s_attribute.html">s_attribute_recode()</a></code>, and supplementary <code>s_attributed_files()</code>, and <code><a href="../reference/corpus_utils.html">corpus_recode()</a></code>.</li>
<li>Any call to <code><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir()</a></code> is now wrapped as <code>normalizePath(tempdir(), winslash = "/")</code> to avoid Problems on Windows, when different file separators may be used.</li>
<li>When calling <code><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path()</a></code>, the argument <code>fsep</code> is “/” to prevent confusion of file seperators.</li>
<li>A new function <code><a href="../reference/corpus_utils.html">corpus_copy()</a></code> is available to create a copy a corpus.</li>
<li>Working example for <code>s_attribute_encode</code>().</li>
<li>A call to <code><a href="https://rdrr.io/pkg/RcppCWB/man/cl_delete_corpus.html" class="external-link">cl_delete_corpus()</a></code> from RcppCWB is added to <code><a href="../reference/s_attribute.html">s_attribute_encode()</a></code>, so that newly added s-attributes can be used without restarting the R session.</li>
<li>The <code><a href="../reference/corpus_utils.html">corpus_copy()</a></code> was defined (and documented) twice in a confusing manner. This is cleaned up.</li>
<li>Calls to <code><a href="https://rdrr.io/r/utils/installed.packages.html" class="external-link">installed.packages()</a></code> were replaced to meet an advice of the CRAN team in the submission process.</li>
<li>
</li></ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.10" id="cwbtools-0010">cwbtools 0.0.10<a class="anchor" aria-label="anchor" href="#cwbtools-0010"></a></h2>
<ul><li>Missing documentation written for fields of class CorpusData.</li>
<li>New fields ‘sentences’ and ‘named_entities’ added to class CorpusData, as a basis for encoding annotation of sentences and named entities.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.9" id="cwbtools-009">cwbtools 0.0.9<a class="anchor" aria-label="anchor" href="#cwbtools-009"></a></h2>
<ul><li>issue with parsing path correctly in registry_file_path when path is in inverted commas solved (adjusted regex)</li>
<li>issue with ALTREP vector for corpus positions resolved</li>
<li>layout of progress bars consistently using pbapply package</li>
<li>sanity checks for s_attribute_encode, ensure that region_matrix is integer matrix</li>
<li>s_attribute_encode when called with method = “R” will now add s_attribute to registry</li>
<li>s_attribute_encode will add structural attribute to registry when using R implementation, too</li>
<li>corpus_as_tarball-function added</li>
<li>install_corpus able to install from tarball</li>
<li>progress option for <code>CorpusData$import_xml()</code>-method</li>
<li>Minimal rework of progress bar in <code>CorpusData$add_corpus_positions()</code> (helper function .fn)</li>
<li>Three dots (…) are passed into <code><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file()</a></code> by <code>install_corpus()</code>, if argument tarball is specified. This is a precondition for passing arguments to download password-protected corpora.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.8" id="cwbtools-008">cwbtools 0.0.8<a class="anchor" aria-label="anchor" href="#cwbtools-008"></a></h2>
<ul><li>major bug removed when writing regions to disk (s_attribute_encode) with R</li>
<li>when creating/removing files in p_attribute_encode, only basenames of filenames are outputted</li>
<li>for CorpusData$encode(), an already existing corpus will be removed</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.7" id="cwbtools-007">cwbtools 0.0.7<a class="anchor" aria-label="anchor" href="#cwbtools-007"></a></h2>
<ul><li>bug removed in function pkg_create_cwb_dirs causing error when a directory already exists</li>
<li>new vignette ‘europarl’: sample workflow for putting indexed corpus into package</li>
<li>for $tokenize()-method of CorpusData: stricter requirement that chunkdata is data.table</li>
<li>progress bar for $tokenize()-method, when tokenizers package is used</li>
<li>tilde expansion for paths that are passed into p_attribute_encode</li>
<li>stri_detect_regex replacing grepl to speed things up in p_attribute_encode</li>
<li>awful workaround for coping with latin1 removed in p_attribute_encode</li>
<li>stip_punct = FALSE for $tokenize() method of CorpusData</li>
<li>purging the data for the CWB has been moved away from p_attribute_encode to a $purge()-method of CorpusData (to be performed on chunkdata) as a matter of efficiency.</li>
<li>continuous removal of objects and garbage collection in p_attribute_encode to be as parsimonious with memory as possible</li>
<li>checking of encoding in p_attribute_encode has been moved to $check_encoding() method in CorpusData-class to keep necessity to copy around vectors (potentially exceeding memory) to a minimum.</li>
<li>additional parameters passed into tokenizers::tokenize_words by …</li>
<li>writing hex for content of s_attributes to cope with encoding issues</li>
<li>values coerced to character</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.6" id="cwbtools-006">cwbtools 0.0.6<a class="anchor" aria-label="anchor" href="#cwbtools-006"></a></h2>
<ul><li>DataPackage class turned into pkg_*-functions</li>
<li>first version that passes all tests</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.5" id="cwbtools-005">cwbtools 0.0.5<a class="anchor" aria-label="anchor" href="#cwbtools-005"></a></h2>
<ul><li>undocumented</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.4" id="cwbtools-004">cwbtools 0.0.4<a class="anchor" aria-label="anchor" href="#cwbtools-004"></a></h2>
<ul><li>askYesNo function has been replaced by readlines(), to ensure compatibility with R versions &lt; 3.5</li>
</ul></div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Andreas Blaette, Christoph Leonhardt.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

